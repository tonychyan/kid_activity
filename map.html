
    <!DOCTYPE html>
    <html>
    <head>
        <title>Kids Activities Map</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-5831K3EZ32"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-5831K3EZ32');
        </script>
        <style>
            body { font-family: Arial, sans-serif; margin: 0; padding: 0; }
            #map { height: 500px; width: 100%; }
            .controls { background: #fff; padding: 10px; border-bottom: 1px solid #ddd; }
            .sidebar { padding: 20px; height: 500px; overflow-y: auto; }
            .activity { margin-bottom: 15px; padding: 10px; border: 1px solid #ddd; border-radius: 5px; }
            .activity h3 { margin-top: 0; color: #333; cursor: pointer; }
            .activity h3:hover { color: #0078d7; text-decoration: underline; }
            .activity p { margin: 5px 0; }
            .activity a { color: #0078d7; text-decoration: none; }
            .activity a:hover { text-decoration: underline; }
            .filter-group { margin-right: 20px; display: inline-block; }
            .filter-title { font-weight: bold; margin-bottom: 5px; }
            .time-indicator { display: inline-block; width: 15px; height: 15px; border-radius: 50%; margin-right: 5px; vertical-align: middle; }
            .morning { background-color: #4285F4; }   /* Blue */
            .afternoon { background-color: #FBBC05; } /* Yellow */
            .evening { background-color: #34A853; }   /* Green */
            .unknown { background-color: #EA4335; }   /* Red */
            .legend { margin-top: 10px; }
            .legend-item { margin-right: 15px; display: inline-block; }
            .source-link { color: #666; text-decoration: none; }
            .source-link:hover { text-decoration: underline; }
            .activity-number {
                display: inline-flex;
                align-items: center;
                justify-content: center;
                width: 25px;
                height: 25px;
                border-radius: 50%;
                background-color: #666;
                color: white;
                font-weight: bold;
                margin-right: 10px;
                font-size: 14px;
            }
            .marker-label {
                position: relative !important;
                top: 0px !important;
                left: 0px !important;
                z-index: 100;
                text-align: center;
                text-shadow: none;
                font-weight: bold !important;
                pointer-events: none;
            }
        </style>
    </head>
    <body>
        <div class="controls">
            <div class="filter-group">
                <div class="filter-title">Filter by Date:</div>
                <select id="date-filter" onchange="filterMarkers()">
                    <option value="all">All Dates</option>
                        <option value="2025-05-24">2025-05-24</option>
                    <option value="2025-05-25">2025-05-25</option>
                    <option value="2025-06-23">2025-06-23</option>

                </select>
            </div>
            
            <div class="filter-group">
                <div class="filter-title">Filter by Time of Day:</div>
                <label><input type="checkbox" value="morning" checked onchange="filterMarkers()"> <span class="time-indicator morning"></span>Morning</label>
                <label><input type="checkbox" value="afternoon" checked onchange="filterMarkers()"> <span class="time-indicator afternoon"></span>Afternoon</label>
                <label><input type="checkbox" value="evening" checked onchange="filterMarkers()"> <span class="time-indicator evening"></span>Evening</label>
                <label><input type="checkbox" value="unknown" checked onchange="filterMarkers()"> <span class="time-indicator unknown"></span>Unknown Time</label>
            </div>
            
            <div class="legend">
                <span class="legend-title">Legend: </span>
                <span class="legend-item"><span class="time-indicator morning"></span>Morning (12 AM - 11:59 AM)</span>
                <span class="legend-item"><span class="time-indicator afternoon"></span>Afternoon (12 PM - 4:59 PM)</span>
                <span class="legend-item"><span class="time-indicator evening"></span>Evening (5 PM - 11:59 PM)</span>
                <span class="legend-item"><span class="time-indicator unknown"></span>Unknown Time</span>
            </div>
        </div>
        
        <div id="map"></div>
        
        <div class="sidebar">
            <h2>Kids Activities</h2>
            <div id="activities-list">
    
        <div class="activity" data-date="2025-06-23" data-time-period="evening" id="activity-0">
            <h3 onclick="showMarker(0)"><span class="activity-number" style="background-color: #34A853;">1</span>KUTX Parking Lot Movie Night@ Lou’s</h3>
            <p><strong>Date:</strong> 2025-06-23</p>
            <p><strong>Time:</strong> DJs begin at 7 pm, movie starts at sundown</p>
            <p><strong>Location:</strong> Lou's, Austin, TX 78701</p>
                    <p><strong>Description:</strong> It's a family-friendly movie night at Lou’s this Friday night featuring The Parent Trap (1998 version) on a 25′ screen, with KUTX DJing with vinyl spins, surprise pop-ups, a parking lot bar, and plenty of Lou’s food and drink.</p>
            <p><strong>Additional Details:</strong> Age: Family-friendly. Cost: FREE. Registration: Check out the upcoming lineup and get all the info here.</p>
            <p><strong>Source:</strong> <a href='https://family.do512.com/events/2025/4/25/parking-lot-movie-night-feat-dj-taylor-wallace-the-parent-trap-1998-tickets' target='_blank' class='source-link'>https://family.do512.com/events/2025/4/25/parking-lot-movie-night-feat-dj-taylor-wallace-the-parent-trap-1998-tickets</a></p>
            <p><a href="https://www.google.com/maps/search/?api=1&query=Lou%27s%2C%20Austin" target="_blank">View on Google Maps</a></p>
        </div>

        <div class="activity" data-date="" data-time-period="evening" id="activity-1">
            <h3 onclick="showMarker(1)"><span class="activity-number" style="background-color: #34A853;">2</span>Mother Son GLOW Dance</h3>
            <p><strong>Date:</strong> Not specified</p>
            <p><strong>Time:</strong> 6:00 PM - 8:00 PM</p>
            <p><strong>Location:</strong> Leander Activity Center, 11880 Hero Way West, Suite 600, Leander, TX 78641-7400, United States</p>
                    <p><strong>Description:</strong> An electrifying evening of fun and excitement celebrating the bond between mothers and sons in a vibrant, glow-in-the-dark atmosphere.</p>
            <p><strong>Additional Details:</strong> Cost: $25 per duo, $10 per additional son. Tickets available online.</p>
            <p><strong>Source:</strong> d6ecedf42abc7a27cf6d07fada346b0e.JPG</p>
            <p><a href="https://www.google.com/maps/search/?api=1&query=Leander%20Activity%20Center%2C%2011880%20Hero%20Way%20West%2C%20Suite%20600%2C%20Leander%2C%20TX%2078641-7400%2C%20United%20States" target="_blank">View on Google Maps</a></p>
        </div>

        <div class="activity" data-date="2025-05-24" data-time-period="unknown" id="activity-2">
            <h3 onclick="showMarker(2)"><span class="activity-number" style="background-color: #EA4335;">3</span>Dinos in the Wild</h3>
            <p><strong>Date:</strong> 2025-05-24</p>
            <p><strong>Time:</strong> None</p>
            <p><strong>Location:</strong> Lady Bird Johnson Wildflower Center, Austin, TX, 78739</p>
                    <p><strong>Description:</strong> A prehistoric adventure with life-sized animatronic dinosaurs. Suitable for families.</p>
            <p><strong>Additional Details:</strong> Created by Jurassic Park advisor 'Dino' Don Lessem. More details coming soon.</p>
            <p><strong>Source:</strong> c29650c7fadbe1e5c46bd3855df08517.PNG</p>
            <p><a href="https://www.google.com/maps/search/?api=1&query=Lady%20Bird%20Johnson%20Wildflower%20Center%2C%20Austin%2C%20TX%2C%2078739" target="_blank">View on Google Maps</a></p>
        </div>

        <div class="activity" data-date="2025-05-24" data-time-period="morning" id="activity-3">
            <h3 onclick="showMarker(3)"><span class="activity-number" style="background-color: #4285F4;">4</span>2025 Austin Greek Festival</h3>
            <p><strong>Date:</strong> 2025-05-24</p>
            <p><strong>Time:</strong> 11:00 AM - 8:00 PM</p>
            <p><strong>Location:</strong> 414 St. Stephens School Rd, Austin, TX 78746, United States</p>
                    <p><strong>Description:</strong> Annual Austin Greek Festival featuring Greek food, dance performances, and kid-friendly activities.</p>
            <p><strong>Additional Details:</strong> Event occurs on Memorial Day Weekend, May 23rd, 24th, and 25th, 2025.</p>
            <p><strong>Source:</strong> <a href='/kid_activity/input/e1c4e48840bd0023295809707ac4be89.JPG' target='_blank' class='source-link'>e1c4e48840bd0023295809707ac4be89.JPG</a></p>
            <p><a href="https://www.google.com/maps/search/?api=1&query=414%20St.%20Stephens%20School%20Rd%2C%20Austin" target="_blank">View on Google Maps</a></p>
        </div>

        <div class="activity" data-date="2025-05-24" data-time-period="morning" id="activity-4">
            <h3 onclick="showMarker(4)"><span class="activity-number" style="background-color: #4285F4;">5</span>Groundwork Music Project@ The Hive</h3>
            <p><strong>Date:</strong> 2025-05-24</p>
            <p><strong>Time:</strong> 10:00 AM</p>
            <p><strong>Location:</strong> The Hive, 10542 Menchaca Rd, Austin, TX 78748</p>
                    <p><strong>Description:</strong> Catch a family-friendly concert where the music is just as fun for grown-ups as it is for kids! Groundwork Music Project brings top-notch musicianship and playful, engaging tunes to the stage.</p>
            <p><strong>Additional Details:</strong> Age: All ages. Cost: Free. Registration: No registration details provided.</p>
            <p><strong>Source:</strong> <a href='https://family.do512.com/events/2025/5/24/groundwork-music-project-1742922317' target='_blank' class='source-link'>https://family.do512.com/events/2025/5/24/groundwork-music-project-1742922317</a></p>
            <p><a href="https://www.google.com/maps/search/?api=1&query=The%20Hive%2C%2010542%20Menchaca%20Rd%2C%20Austin%2C%20TX%2078748" target="_blank">View on Google Maps</a></p>
        </div>

        <div class="activity" data-date="2025-05-25" data-time-period="afternoon" id="activity-5">
            <h3 onclick="showMarker(5)"><span class="activity-number" style="background-color: #FBBC05;">6</span>H-E-B Free Fourth Sunday@ Texas Science and Natural History Museum</h3>
            <p><strong>Date:</strong> 2025-05-25</p>
            <p><strong>Time:</strong> 1 pm - 5 pm</p>
            <p><strong>Location:</strong> Texas Science and Natural History Museum, 2400 Trinity St, Austin, TX 78712</p>
                    <p><strong>Description:</strong> Enjoy free admission to the Texas Science & Natural History Museum courtesy of H-E-B, with exhibits featuring ancient fossils, meteorites, Texas wildlife, and a pterosaur with a 33-foot wingspan.</p>
            <p><strong>Additional Details:</strong> Age: All ages. Cost: Free. Registration: No registration details provided.</p>
            <p><strong>Source:</strong> <a href='https://family.do512.com/events/2025/5/25/h-e-b-free-fourth-sunday-1739901289' target='_blank' class='source-link'>https://family.do512.com/events/2025/5/25/h-e-b-free-fourth-sunday-1739901289</a></p>
            <p><a href="https://www.google.com/maps/search/?api=1&query=Texas%20Science%20and%20Natural%20History%20Museum%2C%202400%20Trinity%20St%2C%20Austin%2C%20TX%2078712" target="_blank">View on Google Maps</a></p>
        </div>

            </div>
        </div>
        
        <script>
            // Store markers globally for reference
            let markers = [];
            let map;
            
            function initMap() {
                // Initialize map
                map = new google.maps.Map(document.getElementById('map'), {
                    zoom: 10,
                    center: {lat: 30.2672, lng: -97.7431}, // Austin, TX coordinates
                    mapTypeId: 'roadmap'
                });
                
                // Add markers to the map
                const bounds = new google.maps.LatLngBounds();
                const geocoder = new google.maps.Geocoder();
                
                // Loop through marker data and create map markers
                const markerData = [
    
                    {
                        name: "KUTX Parking Lot Movie Night@ Lou’s",
                        address: "Lou's, Austin",
                        date: "2025-06-23",
                        timePeriod: "evening",
                        color: "#34A853"
                    },
        
                    {
                        name: "Mother Son GLOW Dance",
                        address: "Leander Activity Center, 11880 Hero Way West, Suite 600, Leander, TX 78641-7400, United States",
                        date: "",
                        timePeriod: "evening",
                        color: "#34A853"
                    },
        
                    {
                        name: "Dinos in the Wild",
                        address: "Lady Bird Johnson Wildflower Center, Austin, TX, 78739",
                        date: "2025-05-24",
                        timePeriod: "unknown",
                        color: "#EA4335"
                    },
        
                    {
                        name: "2025 Austin Greek Festival",
                        address: "414 St. Stephens School Rd, Austin",
                        date: "2025-05-24",
                        timePeriod: "morning",
                        color: "#4285F4"
                    },
        
                    {
                        name: "Groundwork Music Project@ The Hive",
                        address: "The Hive, 10542 Menchaca Rd, Austin, TX 78748",
                        date: "2025-05-24",
                        timePeriod: "morning",
                        color: "#4285F4"
                    },
        
                    {
                        name: "H-E-B Free Fourth Sunday@ Texas Science and Natural History Museum",
                        address: "Texas Science and Natural History Museum, 2400 Trinity St, Austin, TX 78712",
                        date: "2025-05-25",
                        timePeriod: "afternoon",
                        color: "#FBBC05"
                    }
        
                ];
                
                // Geocode addresses and add markers
                let completedMarkers = 0;
                markerData.forEach((data, index) => {
                    geocoder.geocode({ 'address': data.address }, function(results, status) {
                        if (status === 'OK') {
                            // Create a custom marker with a number label inside a colored circle
                            const markerNumber = index + 1;
                            const marker = new google.maps.Marker({
                                map: map,
                                position: results[0].geometry.location,
                                title: data.name,
                                label: {
                                    text: markerNumber.toString(),
                                    color: 'white',
                                    fontSize: '12px',
                                    fontWeight: 'bold',
                                    fontFamily: 'Arial',
                                    className: 'marker-label'
                                },
                                icon: {
                                    path: 'M10,16 C10,15 10.8,14 11.6,14 L14,14 C14.8,13 16.4,13 17.2,9 C18.8,7 23.6,7 26.8,7 C30,7 34,9 35.6,13 L38.8,13 C38.8,13 40.4,14 40.4,16 L40.4,19 C40.4,19 38.8,19 38.8,21 L38.8,24 L34.8,24 L34.8,22 C34.8,22 30,23 24.8,23 C19.6,23 14.8,22 14.8,22 L14.8,24 L10.8,24 L10.8,21 C10.8,19 10,19 10,19 L10,16 Z M15.4,17 C15.4,15 13,15 13,17 C13,19 15.4,19 15.4,17 Z M35.4,17 C35.4,15 33,15 33,17 C33,19 35.4,19 35.4,17 Z',
                                    fillColor: data.color,
                                    fillOpacity: 1.0,
                                    strokeWeight: 0,
                                    scale: 1,
                                    anchor: new google.maps.Point(24, 16),
                                    labelOrigin: new google.maps.Point(24, 16)
                                },
                                optimized: true
                            });
                            
                            // Store additional data with the marker, including the activity index for correlation
                            marker.date = data.date;
                            marker.timePeriod = data.timePeriod;
                            marker.activityIndex = index; // Store the activity index for proper correlation
                            
                            // Add click event to marker
                            marker.addListener('click', function() {
                                document.getElementById('activity-' + index).scrollIntoView({behavior: 'smooth', block: 'center'});
                                // Highlight the activity in the sidebar
                                const activities = document.querySelectorAll('.activity');
                                activities.forEach(activity => activity.style.backgroundColor = '');
                                document.getElementById('activity-' + index).style.backgroundColor = '#f0f0f0';
                            });
                            
                            // Add marker to the global array
                            markers.push(marker);
                            
                            // Extend bounds to include this marker
                            bounds.extend(results[0].geometry.location);
                            
                            // Count completed markers
                            completedMarkers++;
                            
                            // Fit map to bounds if all markers are done
                            if (completedMarkers === markerData.length) {
                                map.fitBounds(bounds);
                                // Initial filtering should only happen once all markers are created
                                filterMarkers();
                            }
                        } else {
                            console.error('Geocode failed for address:', data.address, status);
                            // Count failed markers too so we can still proceed
                            completedMarkers++;
                            
                            // Check if all markers are done even with failures
                            if (completedMarkers === markerData.length) {
                                // Try to fit bounds if we have any successful markers
                                if (markers.length > 0) {
                                    map.fitBounds(bounds);
                                }
                                // Initial filtering
                                filterMarkers();
                            }
                        }
                    });
                });
                
                // Don't call filterMarkers here - will be called when all markers are loaded
            }
            
            function showMarker(index) {
                // Find the marker that corresponds to this activity index
                const marker = markers.find(m => m.activityIndex === index);
                if (marker) {
                    // Center map on marker
                    map.setCenter(marker.getPosition());
                    map.setZoom(15); // Zoom in a bit
                    
                    // Highlight the activity in the sidebar
                    const activities = document.querySelectorAll('.activity');
                    activities.forEach(activity => activity.style.backgroundColor = '');
                    document.getElementById('activity-' + index).style.backgroundColor = '#f0f0f0';
                }
            }
            
            function filterMarkers() {
                const dateFilter = document.getElementById('date-filter').value;
                const timeFilters = Array.from(document.querySelectorAll('input[type="checkbox"]:checked'))
                    .map(input => input.value)
                    .filter(value => ['morning', 'afternoon', 'evening', 'unknown'].includes(value));
                
                // Filter markers based on selected criteria
                markers.forEach(marker => {
                    const activityIndex = marker.activityIndex;
                    const activityElement = document.getElementById('activity-' + activityIndex);
                    if (!activityElement) return;
                    
                    // Using only the marker date for filtering - matching what's in the dropdown
                    const dateMatch = dateFilter === 'all' || marker.date === dateFilter;
                    const timeMatch = timeFilters.includes(marker.timePeriod);
                    
                    // Show/hide based on filter criteria
                    marker.setVisible(dateMatch && timeMatch);
                    
                    // Update sidebar activity visibility
                    activityElement.style.display = dateMatch && timeMatch ? 'block' : 'none';
                });
            }
        </script>
        <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDiQ7gjfd811DlAPZKQ9dKaW9zkQ3_QQdA&callback=initMap"></script>
    </body>
    </html>
    